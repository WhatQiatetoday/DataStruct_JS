<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>击鼓传花</title>
</head>

<body>
    <script>
        class Queue {
            constructor() {
                this.items = {};
                this.count = 0;
                this.lowestCount = 0;
            }
            // 1. 向队列尾部添加一个新的项
            // enqueue(element): 向队列尾部添加一个(或多个)新的项
            enqueue(element) {
                this.items[this.count] = element;
                this.count++;
            }

            // 2. 移除队列的第一项，并返回被移除的元素
            // dequeue(): 移除队列的第一项，并返回被移除的元素
            dequeue() {
                const result = this.items[this.lowestCount];
                delete this.items[this.lowestCount];
                this.lowestCount++;
                return result;
            }

            // 3. 返回队列中的第一个元素
            // front(): 返回队列中第一个元素
            front() {
                return this.items[this.lowestCount];
            }

            // 4. 判断队列是否为空
            // isEmpty(): 如果队列中不包含任何元素，返回true，否则返回false
            isEmpty() {
                return this.size() === 0;
            }

            // 5. 返回队列包含的元素个数
            // size(): 返回队列包含的元素个数
            size() {
                return this.count - this.lowestCount;
            }

            // 6. 将队列中的内容转成字符串形式
            // toString(): 将队列中的内容，转成字符串形式
            toString() {
                let str = '';
                for (let i = this.lowestCount; i < this.count; i++) {
                    str += `${this.items[i]} `;
                }
                return str;
            }

        }

        function hotPotato(nameList, num) {
            let queue = new Queue();
            for (let i of nameList) {
                queue.enqueue(i);
            }
            while (queue.size() > 1) {
                for (let i = 0; i < num; i++) {
                    queue.enqueue(queue.dequeue());
                }
                console.log(`淘汰${queue.dequeue()}`)
            }
            console.log(`获胜者${queue.front()}`)
        }
    </script>
</body>

</html>